# 单元测试 
### 1. 【强制】单元测试中不准使用System.out来进行人肉验证，必须使用Assert来验证

### 2. 【强制】保持单元测试的独立性，单元测试用例之间不能互相调用，也不能依赖执行的先后次序
**反例**  
method2需要依赖method1的执行，将执行结果作为method2的输入。 

### 3. 【强制】单元测试是可以重复执行的，不能受到外界环境的影响
**说明**  
单元测试通常会被放到持续集成中，每次有代码check in时单元测试都会被执行。如果单测对外部环境（网络、服务、中间件等）有依赖，容易导致持续集成机制的不可用。 
在测试时用spring 这样的DI框架注入一个本地（内存）实现或者Mock实现。  

### 4. 【推荐】对于数据库相关的查询，更新，删除等操作，不能假设数据库里的数据是存在的，或者直接操作数据库把数据插入进去，请使用程序插入或者导入数据的方式来准备数据
可以设定自动回滚机制，不给数据库造成脏数据。或者对单元测试产生的数据有明确的前后缀标识。

### 5. 【强制】单元测试的粒度至多是类级别，一般是方法级别 
单测不负责检查跨类或者跨系统的交互逻辑，那是集成测试的领域。 

### 6. 【强制】核心业务、核心应用、核心模块的增量代码确保单元测试通过

### 7. 【强制】单元测试代码必须写在如下工程目录：src/test/java，不允许写在业务代码目录下
**说明**  
源码构建时会跳过此目录，而单元测试框架默认是扫描此目录。 

### 8. 【推荐】单元测试的基本目标：语句覆盖率达到70%；核心模块的语句覆盖率和分支覆盖率都要达到100% 
Manager层和Service层的public方法都应该进行单元测试。   

### 9. 【推荐】编写单元测试代码遵守BCDE原则，以保证被测试模块的交付质量。 
 - B：Border，边界值测试，包括循环边界、特殊取值、特殊时间点、数据顺序等。 
 - C：Correct，正确的输入，并得到预期的结果。 
 - D：Design，与设计文档相结合，来编写单元测试。 
 - E：Error，强制错误信息输入（如：非法数据、异常流程、非业务允许输入等），并得到预期的结果。 
 
### 10. 【强制】单元测试作为一种质量保障手段，不应该项目发布后补充单元测试用例，应该在项目提测前完成单元测试

